<%= render 'navbar' %>


<div class="card">
<div class="card-content">
<br>
<br>

<h3> Visualizando To Do <%= @task.name %> </h3>


<br>
<br>

<div class="form-control">
  <strong>Descrição:</strong>
  <%= @task.description %>
</div>

<br>
<br>

<div class="form-control">
  <strong>Prioridade:</strong>
  <%= @task.priority %>
</div>

<br>
<br>

<div class="form-control">
  <strong>Data de Conclusão da To Do:</strong>
  <%= I18n.l(@task.date, format: "%d de %B de %Y")  %>
</div>

<br>
<br>

<h4>Itens da To Do</h4> 

   <% unless @task.items.present? %>
      <div class="card border-dark text-center">
         <div class="card-body">
            <h2 class="card-title">Nenhum Item foi Adicionado!</h2>
            <br>
      </div>
  </div>

  <% else %>


<div class="card">
<div class="card-content">

<table class="table table-bordered">
   
   <thead>
    <tr>
      <th>Nome</th>
      <th>Data de Conclusão</th>
      <th>Prioridade</th>
   </thead>

   <tbody>
   
     <% @task.items.each do |i| %>

     <% if i.completed  %>

    <tr class="table-secondary">
       <td class="striker"><%= i.name %></td>
     <td><%= I18n.l(i.date, format: "%d de %B de %Y") %></td>
       <td> <%= i.priority %></td>
    </tr>

    <% else %>

    <tr>
       <td><%= i.name %></td>
       <td> <%= i.date %></td>
       <td> <%= i.priority %></td>
    </tr>

    <% end %>

    <% end %>

   </tbody> 
</table>

</div>
</div>

<% end %>

<br>
<br>

<%= link_to 'Editar', edit_task_path(@task), :class => "btn btn-primary" %> |
<%= link_to 'Voltar', tasks_path, :class => "btn btn-primary"%>

<br>
<br>

</div>
</div>