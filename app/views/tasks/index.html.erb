<%= render 'navbar' %>

<h4>To do List <%= Time.now.strftime("%d/%m/%Y") %> </h4>

<br>

<table class="table table-bordered">
  <thead class="table-dark">
    <tr>
      <th>#</th>
      <th>Nome</th>
      <th>Descrição</th>
      <th>Prioridade</th>
      <th>Data de Conclusão</th>
      <th>Editar Tarefa</th>
      <th>Deletar Tarefa</th>
    </tr>
  </thead>

  <tbody>
    <% @tasks.each do |task| %>
    
     <% if task.completed  %>

      <tr class="table-secondary">
      <td><%= task.id %></td>
      <td class="striker"><%= task.name %></td>
        <td><%= task.description %></td>
        <td><%= task.priority %></td>
         <td><%= task.date %></td>
        <td><%= link_to 'Editar', edit_task_path(task), :class => "btn btn-info" %></td>
        <td><%= link_to 'Remover', task, method: :delete, data: { confirm: 'Tem certeza que deseja apagar a tarefa?' }, :class => "btn btn-danger"%></td>
      </tr>

     <% else %>

      <tr>
      <td><%= task.id %></td>
      <td><%= task.name %></td>
        <td><%= task.description %></td>
        <td><%= task.priority %></td>
        <td><%= task.date %></td>
        <td><%= link_to 'Editar', edit_task_path(task), :class => "btn btn-info" %></td>
        <td><%= link_to 'Remover', task, method: :delete, data: { confirm: 'Tem certeza que deseja apagar a tarefa?' }, :class => "btn btn-danger"%></td>
      </tr>

     <% end %>

    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'Nova Tarefa', new_task_path, :class => 'btn btn-success' %>
